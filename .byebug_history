exit
@client.page(id: page.id).properties["Folder"]["select"].name
@client.page(id: page.id).properties["Folder"]["select"]
@client.page(id: page.id).properties["Folder"]
@client.page(id: page.id).properties["Folder"].select.name
@client.page(id: page.id).properties["Folder"]
page
exit
done_pages_count(page.properties["Одношаговые подзадачи"].relation)
done_pages_count(page.properties["Одношаговые подзадачи"].relation
percent
progress
page.id
c
page.properties["Progress"].rich_text.first.text.content == progress(percent)
progress(percent)
progress
page.properties["Progress"].rich_text.first.text.content
page.properties["Progress"].rich_text.first.text
page.properties["Progress"].rich_text.first.content
page.properties["Progress"].rich_text.first
page.properties["Progress"].rich_text
page.properties["Progress"].first
page.properties["Progress"]
page.properties["Progress"].content
page
c
    @client.update_page(id: page.id, properties: properties)
properties = {
      "Progress": {
        "type": "rich_text",
        "rich_text": [
          {
            "type": "text",
            "text": { "content": progress(percent) }
          }
        ]
      }
    }
page.id
page
    @client.update_page(id: page.id, properties: properties)
    properties = {
      "Progress": {
        "rich_text": progress(percent)
      }
    }
page.properties["Progress"]
page.properties
    @client.update_page(id: page.id, properties: properties)
properties
exit
    properties = {
"Progress":{
    properties = {
c
done_pages_count(page.properties["Одношаговые подзадачи"].relation)
exit
c
page.properties["Одношаговые подзадачи"].relation
page.properties["Одношаговые подзадачи"]
done_pages_count(page.properties["Одношаговые подзадачи"].relation)
page
page.properties["Folder"]
exit
page.properties["Folder"]
page.id
page.title
page.name
page.properties
page
page.properties["Одношаговые подзадачи"].relation
done_pages_count(page.properties["Одношаговые подзадачи"].relation)
c
req_pages
c
req_pages
c
req_pages
c
req_pages
req_pages.first.icon.to_h
inst["icon"]
inst
exit
@client.update_page(id: "e4b954656c9b4c3db8b1aedad654f7f6", icon: sas)
sas = {"type"=>"external", "external"=> {"url" => "https://i.imgur.com/B5e36Ag.png"}}
@client.update_page(id: "e4b954656c9b4c3db8b1aedad654f7f6", icon: sas)
@client.update_page(id: "6a30aa51ff924b80b4922d47c0499621", icon: sas)
sas = {"type"=>"external", "external"=> {"url" => "https://imgur.com/a/JaZIko1"}}
inst["icon"]
@client.update_page(id: "6a30aa51ff924b80b4922d47c0499621", icon: inst["icon"])
inst["icon"]
c
inst["icon"]
@client.page(id: '6a30aa51ff924b80b4922d47c0499621').icon.to_h
exit
@client.page(id: '6a30aa51ff924b80b4922d47c0499621').icon.to_h
@client.page(id: '6a30aa51ff924b80b4922d47c0499621').icon
@client.page(id: '6a30aa51ff924b80b4922d47c0499621')
@client.page(page_id: '6a30aa51ff924b80b4922d47c0499621')
client.page(page_id: '6a30aa51ff924b80b4922d47c0499621')
inst["icon"]
req_pages
c
req_pages
c
req_pages
exit
pages.select { |page| page.id.gsub("-", "")  == "6a30aa51ff924b80b4922d47c0499621"}.first.icon
    pages = @client.database_query(id: 'a49914ab5b20401a924e3517572ed6d5', filter: inst["filter"]).results
pages.select { |page| page.id.gsub("-", "")  == "6a30aa51ff924b80b4922d47c0499621"}.first.icon
pages.first
pages.select { |page| page.id.gsub("-", "")  == "6a30aa51ff924b80b4922d47c0499621"}.first.icon
pages.select { |page| page.id.gsub("-", "")  == "6a30aa51ff924b80b4922d47c0499621"}.icon
pages.select { |page| page.id.gsub("-", "")  == "6a30aa51ff924b80b4922d47c0499621"}
pages.first
c
pages
c
pages
c
pages
c
pages
pages.ids
exit
c
reload!
      page.icon.to_h == inst["icon"]
      page.icon.to_h != inst["icon"]
inst["icon"]
page.icon.to_h
page.icon
page
exit
data
c
exit
pages.first.icon.to_h
pages.first.icon
pages.first
exit
filters_with_icons = YAML.load_file("configuration.yml")
inst["icon"]
c
exit
filters_with_icons = YAML.load_file("configuration.yml")
inst["filter"]
inst
